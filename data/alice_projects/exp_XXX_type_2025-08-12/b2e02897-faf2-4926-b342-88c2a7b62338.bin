# AutoCell 项目流程图

## 1. AutoCell 工作流与记忆交互

```mermaid
flowchart TD
    subgraph AutoCell_Workflow
        A[Analyze Paper] --> B[Create Plan]
        B --> C[Data Check]
        C --> D[Revise Plan]
        D --> E[Memory Synthesis]
        E --> F[Execute Code]
        F --> G[Evaluate]
        G --> H[Failure Analyst]
        H --> I[Summary]
    end

    subgraph Memory_Interaction
        M1[workflow_memory.json<br/>(short‑term)] 
        M2[ChromaDB Vector Store<br/>(long‑term)]
    end

    E --> M1
    E --> M2
    M1 --> B
    M2 --> B
```

## 2. Auto‑Improve 元代理循环

```mermaid
flowchart TD
    Start[Start Auto‑Improve Loop] --> RunTest[Run Test]
    RunTest --> Analyze[Generate Run Analysis]
    Analyze --> Success{Test Passed?}
    Success -- Yes --> End[Loop End]
    Success -- No --> Diagnose[Run Claude Command (diagnose)]
    Diagnose --> Advice[Get Implementation Advice]
    Advice --> Validate[Validate Code Changes]
    Validate --> Apply[Apply Patch & Commit]
    Apply --> RetryCheck{Retries < MAX?}
    RetryCheck -- Yes --> RunTest
    RetryCheck -- No --> End
```

## 3. 两层自进化整体管道

```mermaid
flowchart TD
    subgraph Layer1[AutoCell Layer]
        A1[AutoCell Workflow] --> B1[Result / Output]
    end

    subgraph Layer2[Auto‑Improve Layer]
        C1[Auto‑Improve Meta‑Agent] --> D1[Run Tests on AutoCell]
        D1 --> E1[Diagnose & Fix]
        E1 --> F1[Update AutoCell Code & Memory]
        F1 --> A1
    end

    B1 --> C1
    style Layer1 fill:#E8F5E9,stroke:#2E7D32
    style Layer2 fill:#E3F2FD,stroke:#1565C0