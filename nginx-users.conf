# Nginx configuration for multi-user routing
# Each user gets their own backend instance

upstream alice_backend {
    server labacc-alice:8000;
}

upstream bob_backend {
    server labacc-bob:8000;
}

# Map authenticated user to backend
map $remote_user $backend {
    alice    alice_backend;
    bob      bob_backend;
    default  alice_backend;  # Fallback
}